---
const { id, title } = Astro.props;
---

<section id={id} class="season-block">

  <header class="season-block-header">
    <h2 class="season-block-title">{title}</h2>
  </header>

  <div class="season-block-content">
    <slot />
  </div>

</section>

<style>
  .season-block {
    --pad: var(--container-pad);

    height: 100dvh;
    box-sizing: border-box;
    overflow: hidden;

    display: grid;
    grid-template-rows: auto 1fr;

    padding: var(--pad);
    padding-left: clamp(2.5rem, 5vw, 4rem);
    gap: var(--pad);
  }

  /* Header */

  .season-block-header {
    align-self: start;
    position: sticky;
    top: 0;
    z-index: 10;
    background: var(--color-page);
    padding-bottom: var(--space-2);
  }

  .season-block-title {
    margin: 0;
    font-size: clamp(2.4rem, 6vw, 4.8rem);
    letter-spacing: -0.02em;
  }

  /* Content */

  .season-block-content {
    min-width: 0;
    min-height: 0;
    overflow: hidden;
  }

  /* Mobile */

  @media (max-width: 1024px) {
    .season-block {
      padding-left: var(--pad);
    }
  }

  @media (max-width: 768px) {
    .season-block {
      height: 100dvh;
      overflow-y: auto;
      overflow-x: hidden;
      scrollbar-width: none;
      gap: var(--space-2);
      padding-top: var(--space-3);
      padding-bottom: var(--space-3);
    }
    .season-block::-webkit-scrollbar {
      display: none;
    }
    .season-block-title {
      font-size: clamp(1.8rem, 7vw, 2.6rem);
    }
    .season-block-content {
      overflow: visible;
    }
  }

  /* Dark mode */

  @media (prefers-color-scheme: dark) {
    .season-block-title {
      color: var(--color-muted);
    }
  }
</style>
