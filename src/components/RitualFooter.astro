---
import { Image } from "astro:assets";

const { images = [] } = Astro.props;

if (!images.length) {
  throw new Error("RitualFooter requires at least one image.");
}
---

<div class="ritual-footer">
  {images.map((img) => (
    <div class="ritual-footer-item">
      <Image src={img} alt="" />
    </div>
  ))}
</div>

<style>
.ritual-footer {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(160px, 1fr);
  gap: 1.2rem;
  margin-top: var(--space-7);
}

/* conteneur portrait */
.ritual-footer-item {
  aspect-ratio: 3 / 4; /* portrait */
  overflow: hidden;
  border-radius: 14px;
}

/* image */
.ritual-footer-item :global(img) {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* mobile â†’ scroll horizontal */
@media (max-width: 768px) {
  .ritual-footer {
    overflow-x: auto;
    grid-auto-columns: 70%;
    padding-bottom: 0.5rem;
  }
}
</style>
